{"nodes":[{"pos":[32,91],"content":"Wrap Android apps with App Wrapping Tool | Microsoft Intune","needQuote":true,"nodes":[{"content":"Wrap Android apps with App Wrapping Tool | Microsoft Intune","pos":[0,59]}]},{"pos":[105,289],"content":"Use the information in this topic to learn how to wrap your Android apps without modifying the code of the app itself. Prepare the apps so you can apply mobile app management policies.","needQuote":true,"nodes":[{"content":"Use the information in this topic to learn how to wrap your Android apps without modifying the code of the app itself. Prepare the apps so you can apply mobile app management policies.","pos":[0,184],"nodes":[{"content":"Use the information in this topic to learn how to wrap your Android apps without modifying the code of the app itself.","pos":[0,118]},{"content":"Prepare the apps so you can apply mobile app management policies.","pos":[119,184]}]}]},{"pos":[604,692],"content":"Prepare Android apps for mobile application management with the Intune App Wrapping Tool","linkify":"Prepare Android apps for mobile application management with the Intune App Wrapping Tool","nodes":[{"content":"Prepare Android apps for mobile application management with the Intune App Wrapping Tool","pos":[0,88]}]},{"pos":[693,891],"content":"Use the <bpt id=\"p1\">**</bpt>Microsoft Intune App Wrapping Tool for Android<ept id=\"p1\">**</ept> to modify the behavior of your in-house Android apps to let you configure features of the app without modifying the code of the app itself.","source":"Use the **Microsoft Intune App Wrapping Tool for Android** to modify the behavior of your in-house Android apps to let you configure features of the app without modifying the code of the app itself."},{"content":"The tool is a Windows command-line application that runs in PowerShell and creates a ‘wrapper’ around your app.","pos":[893,1004]},{"content":"Once the app is processed, you can then change the app’s functionality using <bpt id=\"p1\">[</bpt>mobile application management policies<ept id=\"p1\">](configure-and-deploy-mobile-application-management-policies-in-the-microsoft-intune-console.md)</ept> that you configure.","pos":[1005,1238],"source":" Once the app is processed, you can then change the app’s functionality using [mobile application management policies](configure-and-deploy-mobile-application-management-policies-in-the-microsoft-intune-console.md) that you configure."},{"content":"Before running the tool, review the <bpt id=\"p1\">[</bpt>Security considerations for running the app wrapping tool<ept id=\"p1\">](#security-considerations-for-running-the-app-wrapping-tool)</ept>.","pos":[1241,1397],"source":"Before running the tool, review the [Security considerations for running the app wrapping tool](#security-considerations-for-running-the-app-wrapping-tool)."},{"content":"To download the tool, see <bpt id=\"p1\">[</bpt>Microsoft Intune App Wrapping Tool for Android<ept id=\"p1\">](https://www.microsoft.com/download/details.aspx?id=47267)</ept>.","pos":[1398,1531],"source":" To download the tool, see [Microsoft Intune App Wrapping Tool for Android](https://www.microsoft.com/download/details.aspx?id=47267)."},{"pos":[1534,1848],"content":"[!IMPORTANT]\nThe version of the app wrapping tool, which supports devices not enrolled in Intune, is available for public preview. If you wish to participate in the public preview, you can download the tool from [this github page](https://github.com/msintuneappsdk/intune-app-wrapper-android-preview) for Android.","leadings":["",">"],"nodes":[{"content":"The version of the app wrapping tool, which supports devices not enrolled in Intune, is available for public preview. If you wish to participate in the public preview, you can download the tool from [this github page](https://github.com/msintuneappsdk/intune-app-wrapper-android-preview) for Android.","pos":[13,313],"nodes":[{"content":"The version of the app wrapping tool, which supports devices not enrolled in Intune, is available for public preview.","pos":[0,117]},{"content":"If you wish to participate in the public preview, you can download the tool from <bpt id=\"p1\">[</bpt>this github page<ept id=\"p1\">](https://github.com/msintuneappsdk/intune-app-wrapper-android-preview)</ept> for Android.","pos":[118,300],"source":" If you wish to participate in the public preview, you can download the tool from [this github page](https://github.com/msintuneappsdk/intune-app-wrapper-android-preview) for Android."}]}]},{"pos":[1850,2029],"content":"The scenario is described in the <bpt id=\"p1\">[</bpt>Protect LOB apps on devices not enrolled in Intune<ept id=\"p1\">](protect-line-of-business-apps-and-data-on-devices-not-enrolled-in-microsoft-intune.md)</ept> topic.","source":"The scenario is described in the [Protect LOB apps on devices not enrolled in Intune](protect-line-of-business-apps-and-data-on-devices-not-enrolled-in-microsoft-intune.md) topic."},{"pos":[2035,2099],"content":"Step 1 Fulfill the prerequisites for using the app wrapping tool","linkify":"Step 1 Fulfill the prerequisites for using the app wrapping tool","nodes":[{"content":"Step 1 Fulfill the prerequisites for using the app wrapping tool","pos":[0,64]}]},{"content":"You must run the app wrapping tool on a Windows computer running Windows 7 or later.","pos":[2105,2189]},{"pos":[2195,2291],"content":"Your input app must be a valid Android application package with the extension <bpt id=\"p1\">**</bpt>.apk<ept id=\"p1\">**</ept> file and:","source":"Your input app must be a valid Android application package with the extension **.apk** file and:"},{"content":"Cannot be encrypted","pos":[2301,2320]},{"content":"Must not have already been wrapped by the app wrapping tool","pos":[2330,2389]},{"content":"Must be written for Android 4.0 or later","pos":[2399,2439]},{"content":"The app must be developed by, or for your company.","pos":[2445,2495]},{"content":"You cannot use this tool to process apps downloaded from the Google Play Store.","pos":[2496,2575]},{"content":"To run the app wrapping tool, you must install the latest version of the <bpt id=\"p1\">[</bpt>Java Runtime Environment<ept id=\"p1\">](http://java.com/download/)</ept> and then ensure that the Java path variable has been set to <bpt id=\"p2\">**</bpt>C:\\ProgramData\\Oracle\\Java\\javapath<ept id=\"p2\">**</ept> in your Windows environment variables.","pos":[2581,2846],"source":"To run the app wrapping tool, you must install the latest version of the [Java Runtime Environment](http://java.com/download/) and then ensure that the Java path variable has been set to **C:\\ProgramData\\Oracle\\Java\\javapath** in your Windows environment variables."},{"content":"For more help, see your <bpt id=\"p1\">[</bpt>Java documentation<ept id=\"p1\">](http://java.com/download/help/)</ept>.","pos":[2847,2924],"source":" For more help, see your [Java documentation](http://java.com/download/help/)."},{"pos":[2932,3074],"content":"[!NOTE]\nIn some cases, the 32-bit version of Java may result in memory issues. We recommend that you install the 64-bit version instead.","leadings":["","    > "],"nodes":[{"content":"In some cases, the 32-bit version of Java may result in memory issues. We recommend that you install the 64-bit version instead.","pos":[8,136],"nodes":[{"content":"In some cases, the 32-bit version of Java may result in memory issues.","pos":[0,70]},{"content":"We recommend that you install the 64-bit version instead.","pos":[71,128]}]}]},{"pos":[3079,3115],"content":"Step 2 Install the app wrapping tool","linkify":"Step 2 Install the app wrapping tool","nodes":[{"content":"Step 2 Install the app wrapping tool","pos":[0,36]}]},{"content":"From the Microsoft Download Center, download and open the installation file for the app wrapping tool to a Windows computer.","pos":[3121,3245]},{"content":"Accept the license agreement, then complete the installation.","pos":[3251,3312]},{"content":"Note the folder to which you installed the tool.","pos":[3314,3362]},{"content":"The default location is: <bpt id=\"p1\">**</bpt>C:\\Program Files (x86)\\Microsoft Intune Mobile Application Management\\Android\\App Wrapping Tool<ept id=\"p1\">**</ept>.","pos":[3363,3488],"source":" The default location is: **C:\\Program Files (x86)\\Microsoft Intune Mobile Application Management\\Android\\App Wrapping Tool**."},{"pos":[3493,3525],"content":"Step 3 Run the app wrapping tool","linkify":"Step 3 Run the app wrapping tool","nodes":[{"content":"Step 3 Run the app wrapping tool","pos":[0,32]}]},{"content":"On the Windows computer where you installed the app wrapping tool, open a PowerShell window in administrator mode.","pos":[3531,3645]},{"content":"From the folder where you installed the tool, import the app wrapping tool PowerShell module:","pos":[3651,3744]},{"pos":[3814,3914],"content":"Run the tool by using the <bpt id=\"p1\">**</bpt>invoke-AppWrappingTool<ept id=\"p1\">**</ept> command together with the following parameters.","source":"Run the tool by using the **invoke-AppWrappingTool** command together with the following parameters."},{"content":"Parameter","pos":[3917,3926]},{"content":"More information","pos":[3927,3943]},{"content":"Examples","pos":[3944,3952]},{"pos":[4002,4026],"content":"<bpt id=\"p1\">**</bpt>-InputPath<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>String","source":"**-InputPath**&lt;String"},{"content":"Path of the source Android app (.apk).","pos":[4031,4069]},{"pos":[4074,4099],"content":"<bpt id=\"p1\">**</bpt>-OutputPath<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>String","source":"**-OutputPath**&lt;String"},{"content":"Path to the \"output\" Android app.","pos":[4104,4137]},{"content":"If this is the same directory path as InputPath, the packaging will fail.","pos":[4138,4211]},{"pos":[4216,4243],"content":"<bpt id=\"p1\">**</bpt>-KeyStorePath<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>String","source":"**-KeyStorePath**&lt;String"},{"content":"Path to the keystore file that contains the public/private key pair for signing.","pos":[4248,4328]},{"pos":[4333,4370],"content":"<bpt id=\"p1\">**</bpt>-KeyStorePassword<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>SecureString","source":"**-KeyStorePassword**&lt;SecureString"},{"content":"Password used to decrypt the keystore.","pos":[4375,4413]},{"content":"Android requires that all application packages (.apk) to be signed.","pos":[4414,4481]},{"content":"Use the Java Key Tool to generate the KeyStorePassword as shown in the example.","pos":[4482,4561]},{"content":"Read more about <bpt id=\"p1\">[</bpt>keystore<ept id=\"p1\">](https://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html)</ept>.","pos":[4562,4660],"source":" Read more about [keystore](https://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html)."},{"content":"keytool.exe -genkey -v -keystore keystorefile -alias ks -keyalg RSA -keysize 2048 -validity 50000","pos":[4661,4758]},{"pos":[4762,4785],"content":"<bpt id=\"p1\">**</bpt>-KeyAlias<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>String","source":"**-KeyAlias**&lt;String"},{"content":"Name of the key to be used for signing.","pos":[4790,4829]},{"pos":[4834,4866],"content":"<bpt id=\"p1\">**</bpt>-KeyPassword<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>SecureString","source":"**-KeyPassword**&lt;SecureString"},{"content":"Password used to decrypt the private key that will be used for signing.","pos":[4871,4942]},{"pos":[4947,4974],"content":"<bpt id=\"p1\">**</bpt>-SigAlg<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;lt;</ph>SecureString","source":"**-SigAlg**&lt;SecureString"},{"content":"Name of the signature algorithm to be used for signing.","pos":[4979,5034]},{"content":"The algorithm must be compatible with the private key.","pos":[5035,5089]},{"content":"Examples: SHA256withRSA, SHA1withRSA, MD5withRSA","pos":[5090,5138]},{"pos":[5142,5254],"content":"<bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>CommonParameters<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept><ph id=\"ph3\">\n</ph>    (optional – supports common PowerShell parameters such as verbose, debug, etc.)","source":"**&lt;CommonParameters&gt;**\n    (optional – supports common PowerShell parameters such as verbose, debug, etc.)"},{"pos":[5258,5378],"content":"For a list of common parameters, see the <bpt id=\"p1\">[</bpt>Microsoft Script Center<ept id=\"p1\">](https://technet.microsoft.com/library/hh847884.aspx)</ept>.","source":"For a list of common parameters, see the [Microsoft Script Center](https://technet.microsoft.com/library/hh847884.aspx)."},{"content":"To see help for the tool, enter the command:","pos":[5382,5426]},{"content":"Example:","pos":[5479,5487]},{"pos":[5860,5935],"content":"You will then be prompted for the <bpt id=\"p1\">**</bpt>KeyStorePassword<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>KeyPassword<ept id=\"p2\">**</ept>.","source":"You will then be prompted for the **KeyStorePassword** and **KeyPassword**."},{"content":"The wrapped app is generated, and saved, along with a log file, in the output path you specified.","pos":[5937,6034]},{"pos":[6039,6096],"content":"Security considerations for running the app wrapping tool","linkify":"Security considerations for running the app wrapping tool","nodes":[{"content":"Security considerations for running the app wrapping tool","pos":[0,57]}]},{"content":"To prevent potential spoofing, information disclosure, and elevation of privilege attacks:","pos":[6097,6187]},{"content":"Ensure that the input line-of-business application, output application, and Java KeyStore are on the same computer where the app wrapping tool is running.","pos":[6193,6347]},{"content":"Import the output application to the Intune console on the same computer where the tool is running.","pos":[6353,6452]},{"content":"See <bpt id=\"p1\">[</bpt>keytool<ept id=\"p1\">](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html)</ept> for more information about the Java keytool.","pos":[6453,6584],"source":" See [keytool](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html) for more information about the Java keytool."},{"pos":[6590,6956],"content":"If the output application and the tool are on a Universal Naming Convention (UNC) path and you are not running the tool and input files on the same computer, configure the environment to be secure by using <bpt id=\"p1\">[</bpt>Internet Protocol Security (IPsec)<ept id=\"p1\">](http://en.wikipedia.org/wiki/IPsec)</ept> or <bpt id=\"p2\">[</bpt>Server Message Block (SMB) signing<ept id=\"p2\">](https://support.microsoft.com/en-us/kb/887429)</ept>.","source":"If the output application and the tool are on a Universal Naming Convention (UNC) path and you are not running the tool and input files on the same computer, configure the environment to be secure by using [Internet Protocol Security (IPsec)](http://en.wikipedia.org/wiki/IPsec) or [Server Message Block (SMB) signing](https://support.microsoft.com/en-us/kb/887429)."},{"content":"Ensure that the application is coming from a trusted source, which might enable the application to access the AAD token during runtime.","pos":[6962,7097]},{"content":"Secure the output directory that contains the wrapped app.","pos":[7103,7161]},{"content":"Consider using a user-level directory for the output.","pos":[7162,7215]},{"pos":[7223,7231],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"content":"Decide how to prepare apps for mobile application management with Microsoft Intune","pos":[7235,7317]},{"content":"Use the SDK to enable apps for mobile application management","pos":[7410,7470]}],"content":"---\n# required metadata\n\ntitle: Wrap Android apps with App Wrapping Tool | Microsoft Intune\ndescription: Use the information in this topic to learn how to wrap your Android apps without modifying the code of the app itself. Prepare the apps so you can apply mobile app management policies.\nkeywords:\nauthor: karthikaraman\nmanager: angrobe\nms.date: 09/13/2016\nms.topic: article\nms.prod:\nms.service: microsoft-intune\nms.technology:\nms.assetid: e9c349c8-51ae-4d73-b74a-6173728a520b\n\n# optional metadata\n\n#ROBOTS:\n#audience:\n#ms.devlang:\nms.reviewer: oldang\nms.suite: ems\n#ms.tgt_pltfrm:\n#ms.custom:\n\n---\n\n# Prepare Android apps for mobile application management with the Intune App Wrapping Tool\nUse the **Microsoft Intune App Wrapping Tool for Android** to modify the behavior of your in-house Android apps to let you configure features of the app without modifying the code of the app itself.\n\nThe tool is a Windows command-line application that runs in PowerShell and creates a ‘wrapper’ around your app. Once the app is processed, you can then change the app’s functionality using [mobile application management policies](configure-and-deploy-mobile-application-management-policies-in-the-microsoft-intune-console.md) that you configure.\n\n\nBefore running the tool, review the [Security considerations for running the app wrapping tool](#security-considerations-for-running-the-app-wrapping-tool). To download the tool, see [Microsoft Intune App Wrapping Tool for Android](https://www.microsoft.com/download/details.aspx?id=47267).\n\n>[!IMPORTANT]\n>The version of the app wrapping tool, which supports devices not enrolled in Intune, is available for public preview. If you wish to participate in the public preview, you can download the tool from [this github page](https://github.com/msintuneappsdk/intune-app-wrapper-android-preview) for Android.\n\nThe scenario is described in the [Protect LOB apps on devices not enrolled in Intune](protect-line-of-business-apps-and-data-on-devices-not-enrolled-in-microsoft-intune.md) topic.\n\n\n## Step 1 Fulfill the prerequisites for using the app wrapping tool\n\n-   You must run the app wrapping tool on a Windows computer running Windows 7 or later.\n\n-   Your input app must be a valid Android application package with the extension **.apk** file and:\n\n    -   Cannot be encrypted\n\n    -   Must not have already been wrapped by the app wrapping tool\n\n    -   Must be written for Android 4.0 or later\n\n-   The app must be developed by, or for your company. You cannot use this tool to process apps downloaded from the Google Play Store.\n\n-   To run the app wrapping tool, you must install the latest version of the [Java Runtime Environment](http://java.com/download/) and then ensure that the Java path variable has been set to **C:\\ProgramData\\Oracle\\Java\\javapath** in your Windows environment variables. For more help, see your [Java documentation](http://java.com/download/help/).\n\n    > [!NOTE]\n    > In some cases, the 32-bit version of Java may result in memory issues. We recommend that you install the 64-bit version instead.\n\n## Step 2 Install the app wrapping tool\n\n1.  From the Microsoft Download Center, download and open the installation file for the app wrapping tool to a Windows computer.\n\n2.  Accept the license agreement, then complete the installation.\n\nNote the folder to which you installed the tool. The default location is: **C:\\Program Files (x86)\\Microsoft Intune Mobile Application Management\\Android\\App Wrapping Tool**.\n\n## Step 3 Run the app wrapping tool\n\n1.  On the Windows computer where you installed the app wrapping tool, open a PowerShell window in administrator mode.\n\n2.  From the folder where you installed the tool, import the app wrapping tool PowerShell module:\n\n    ```\n    Import-Module .\\IntuneAppWrappingTool.psm1\n    ```\n\n3.  Run the tool by using the **invoke-AppWrappingTool** command together with the following parameters.\n\n|Parameter|More information|Examples|\n|-------------|--------------------|---------|\n|**-InputPath**&lt;String&gt;|Path of the source Android app (.apk).| |\n|**-OutputPath**&lt;String&gt;|Path to the \"output\" Android app. If this is the same directory path as InputPath, the packaging will fail.| |\n|**-KeyStorePath**&lt;String&gt;|Path to the keystore file that contains the public/private key pair for signing.| |\n|**-KeyStorePassword**&lt;SecureString&gt;|Password used to decrypt the keystore. Android requires that all application packages (.apk) to be signed. Use the Java Key Tool to generate the KeyStorePassword as shown in the example. Read more about [keystore](https://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html).|keytool.exe -genkey -v -keystore keystorefile -alias ks -keyalg RSA -keysize 2048 -validity 50000 |\n|**-KeyAlias**&lt;String&gt;|Name of the key to be used for signing.| |\n|**-KeyPassword**&lt;SecureString&gt;|Password used to decrypt the private key that will be used for signing.| |\n|**-SigAlg**&lt;SecureString&gt;|Name of the signature algorithm to be used for signing. The algorithm must be compatible with the private key.|Examples: SHA256withRSA, SHA1withRSA, MD5withRSA|\n\n\n**&lt;CommonParameters&gt;**\n    (optional – supports common PowerShell parameters such as verbose, debug, etc.)\n\n- For a list of common parameters, see the [Microsoft Script Center](https://technet.microsoft.com/library/hh847884.aspx).\n\n- To see help for the tool, enter the command:\n\n    ```\n    Help Invoke-AppWrappingTool\n    ```\n\n**Example:**\n\n\n    Import-Module \"C:\\Program Files (x86)\\Microsoft Intune Mobile Application Management\\Android\\App Wrapping Tool\\IntuneAppWrappingTool.psm1\"\n    invoke-AppWrappingTool -InputPath .\\app\\HelloWorld.apk -OutputPath .\\app.wrapped\\HelloWorld_wrapped2.apk -KeyStorePath \"C:\\Program Files (x86)\\Java\\jre1.8.0_91\\bin\\keystorefile\" -keyAlias ks -SigAlg SHA1withRSA -Verbose\n\nYou will then be prompted for the **KeyStorePassword** and **KeyPassword**.\n\nThe wrapped app is generated, and saved, along with a log file, in the output path you specified.\n\n## Security considerations for running the app wrapping tool\nTo prevent potential spoofing, information disclosure, and elevation of privilege attacks:\n\n-   Ensure that the input line-of-business application, output application, and Java KeyStore are on the same computer where the app wrapping tool is running.\n\n-   Import the output application to the Intune console on the same computer where the tool is running. See [keytool](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html) for more information about the Java keytool.\n\n-   If the output application and the tool are on a Universal Naming Convention (UNC) path and you are not running the tool and input files on the same computer, configure the environment to be secure by using [Internet Protocol Security (IPsec)](http://en.wikipedia.org/wiki/IPsec) or [Server Message Block (SMB) signing](https://support.microsoft.com/en-us/kb/887429).\n\n-   Ensure that the application is coming from a trusted source, which might enable the application to access the AAD token during runtime.\n\n-   Secure the output directory that contains the wrapped app. Consider using a user-level directory for the output.\n\n\n\n### See also\n- [Decide how to prepare apps for mobile application management with Microsoft Intune](decide-how-to-prepare-apps-for-mobile-application-management-with-microsoft-intune.md)\n\n- [Use the SDK to enable apps for mobile application management](use-the-sdk-to-enable-apps-for-mobile-application-management.md)\n"}