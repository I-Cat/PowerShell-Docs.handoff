{"nodes":[{"pos":[32,93],"content":"Per-app VPN for Android using Pulse Secure | Microsoft Intune","needQuote":true,"nodes":[{"content":"Per-app VPN for Android using Pulse Secure | Microsoft Intune","pos":[0,61]}]},{"pos":[107,182],"content":"You can create a per-app VPN profile for Android devices managed by Intune.","needQuote":true,"nodes":[{"content":"You can create a per-app VPN profile for Android devices managed by Intune.","pos":[0,75]}]},{"pos":[493,564],"content":"Use a custom policy to create a per-app VPN profile for Android devices","linkify":"Use a custom policy to create a per-app VPN profile for Android devices","nodes":[{"content":"Use a custom policy to create a per-app VPN profile for Android devices","pos":[0,71]}]},{"content":"You can create a per-app VPN profile for Android 5.0 and later devices that are managed by Intune.","pos":[566,664]},{"content":"First, create a VPN profile that uses the Pulse Secure connection type.","pos":[665,736]},{"content":"Then, create a custom configuration policy that associates the VPN profile with specific apps.","pos":[737,831]},{"content":"After you deploy the policy to your Android device or user groups, users should start the PulseSecure VPN.","pos":[834,940]},{"content":"PulseSecure will then allow traffic only from the specified apps to use the open VPN connection.","pos":[941,1037]},{"content":"Only the Pulse Secure connection type is supported for this profile.","pos":[1053,1121]},{"pos":[1128,1156],"content":"Step 1: Create a VPN profile","linkify":"Step 1: Create a VPN profile","nodes":[{"content":"Step 1: Create a VPN profile","pos":[0,28]}]},{"pos":[1161,1276],"content":"In the <bpt id=\"p1\">[</bpt>Microsoft Intune administration console<ept id=\"p1\">](https://manage.microsoft.com)</ept>, choose <bpt id=\"p2\">**</bpt>Policy<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>Add Policy<ept id=\"p3\">**</ept>.","source":"In the [Microsoft Intune administration console](https://manage.microsoft.com), choose **Policy** > **Add Policy**."},{"pos":[1280,1395],"content":"To select a template for the new policy, expand <bpt id=\"p1\">**</bpt>Android<ept id=\"p1\">**</ept>, and then choose <bpt id=\"p2\">**</bpt>VPN Profile (Android 4 and later)<ept id=\"p2\">**</ept>.","source":"To select a template for the new policy, expand **Android**, and then choose **VPN Profile (Android 4 and later)**."},{"pos":[1399,1465],"content":"In the template, for <bpt id=\"p1\">**</bpt>Connection type<ept id=\"p1\">**</ept>, choose <bpt id=\"p2\">**</bpt>Pulse Secure<ept id=\"p2\">**</ept>.","source":"In the template, for **Connection type**, choose **Pulse Secure**."},{"content":"Finish and save the VPN profile.","pos":[1469,1501]},{"content":"For more details about VPN profiles, see <bpt id=\"p1\">[</bpt>VPN connections<ept id=\"p1\">](../deploy-use/vpn-connections-in-microsoft-intune.md)</ept>.","pos":[1502,1615],"source":" For more details about VPN profiles, see [VPN connections](../deploy-use/vpn-connections-in-microsoft-intune.md)."},{"content":"Take note of the VPN profile name to use in the next step.","pos":[1631,1689]},{"content":"For example, MyAppVpnProfile.","pos":[1690,1719]},{"pos":[1725,1769],"content":"Step 2: Create a custom configuration policy","linkify":"Step 2: Create a custom configuration policy","nodes":[{"content":"Step 2: Create a custom configuration policy","pos":[0,44]}]},{"pos":[1777,1902],"content":"In the Intune admin console, choose <bpt id=\"p1\">**</bpt>Policy<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Add Policy<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Android<ept id=\"p3\">**</ept><ph id=\"ph3\"> &gt; </ph><bpt id=\"p4\">**</bpt>Custom configuration<ept id=\"p4\">**</ept><ph id=\"ph4\"> &gt; </ph><bpt id=\"p5\">**</bpt>Create Policy<ept id=\"p5\">**</ept>.","source":"In the Intune admin console, choose **Policy** > **Add Policy** > **Android** > **Custom configuration** > **Create Policy**."},{"content":"Enter a name for the policy.","pos":[1909,1937]},{"pos":[1944,1987],"content":"Under <bpt id=\"p1\">**</bpt>OMA-URI settings<ept id=\"p1\">**</ept>, choose <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"Under **OMA-URI settings**, choose **Add**."},{"content":"Enter a setting name.","pos":[1994,2015]},{"pos":[2022,2060],"content":"For <bpt id=\"p1\">**</bpt>Data type<ept id=\"p1\">**</ept>, specify <bpt id=\"p2\">**</bpt>String<ept id=\"p2\">**</ept>.","source":"For **Data type**, specify **String**."},{"content":"For <bpt id=\"p1\">**</bpt>OMA-URI<ept id=\"p1\">**</ept>, specify this string: <bpt id=\"p2\">*</bpt><bpt id=\"p3\">*</bpt>./Vendor/MSFT/VPN/Profile/<ept id=\"p3\">*</ept>Name<ept id=\"p2\">*</ept>/PackageList<bpt id=\"p4\">*</bpt><bpt id=\"p5\">*</bpt>, where <ept id=\"p5\">*</ept>Name<ept id=\"p4\">*</ept> is the VPN profile name you noted in Step 1.","pos":[2067,2212],"source":"For **OMA-URI**, specify this string: **./Vendor/MSFT/VPN/Profile/*Name*/PackageList**, where *Name* is the VPN profile name you noted in Step 1."},{"content":"In our example, the string would be <bpt id=\"p1\">**</bpt>./Vendor/MSFT/VPN/Profile/MyAppVpnProfile/PackageList<ept id=\"p1\">**</ept>.","pos":[2213,2307],"source":" In our example, the string would be **./Vendor/MSFT/VPN/Profile/MyAppVpnProfile/PackageList**."},{"content":"For <bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>, create a semicolon-separated list of packages to associate with the profile.","pos":[2316,2407],"source":"For **Value**, create a semicolon-separated list of packages to associate with the profile."},{"content":"For example, if you want Excel and the Google Chrome browser to use the VPN connection, enter <bpt id=\"p1\">**</bpt>com.microsoft.office.excel;com.android.chrome<ept id=\"p1\">**</ept>.","pos":[2408,2552],"source":" For example, if you want Excel and the Google Chrome browser to use the VPN connection, enter **com.microsoft.office.excel;com.android.chrome**."},{"content":"Example Android per-app VPN custom policy","pos":[2556,2597]},{"pos":[2646,2700],"content":"Set your app list to blacklist or whitelist (optional)","linkify":"Set your app list to blacklist or whitelist (optional)","nodes":[{"content":"Set your app list to blacklist or whitelist (optional)","pos":[0,54]}]},{"content":"You can specify a list of apps that <bpt id=\"p1\">*</bpt>cannot<ept id=\"p1\">*</ept> use the VPN connection by using the <bpt id=\"p2\">**</bpt>BLACKLIST<ept id=\"p2\">**</ept> value.","pos":[2703,2804],"source":"You can specify a list of apps that *cannot* use the VPN connection by using the **BLACKLIST** value."},{"content":"All other apps will connect through the VPN.","pos":[2805,2849]},{"content":"Alternatively, you can use the <bpt id=\"p1\">**</bpt>WHITELIST<ept id=\"p1\">**</ept> value to specify a list of apps that <bpt id=\"p2\">*</bpt>can<ept id=\"p2\">*</ept> use the VPN connection.","pos":[2850,2963],"source":"\n  Alternatively, you can use the **WHITELIST** value to specify a list of apps that *can* use the VPN connection."},{"content":"Apps that are not on the list will not connect through the VPN.","pos":[2964,3027]},{"pos":[3036,3079],"content":"Under <bpt id=\"p1\">**</bpt>OMA-URI<ept id=\"p1\">**</ept> settings, choose <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"Under **OMA-URI** settings, choose **Add**."},{"content":"Enter a setting name.","pos":[3088,3109]},{"pos":[3118,3156],"content":"For <bpt id=\"p1\">**</bpt>Data type<ept id=\"p1\">**</ept>, specify <bpt id=\"p2\">**</bpt>String<ept id=\"p2\">**</ept>.","source":"For **Data type**, specify **String**."},{"content":"For <bpt id=\"p1\">**</bpt>OMA-URI<ept id=\"p1\">**</ept>, use this string: <bpt id=\"p2\">*</bpt><bpt id=\"p3\">*</bpt>./Vendor/MSFT/VPN/Profile/<ept id=\"p3\">*</ept>Name<ept id=\"p2\">*</ept>/Mode<bpt id=\"p4\">*</bpt><bpt id=\"p5\">*</bpt>, where <ept id=\"p5\">*</ept>Name<ept id=\"p4\">*</ept> is the VPN profile name you noted in Step 1.","pos":[3165,3299],"source":"For **OMA-URI**, use this string: **./Vendor/MSFT/VPN/Profile/*Name*/Mode**, where *Name* is the VPN profile name you noted in Step 1."},{"content":"In our example, the string would be <bpt id=\"p1\">**</bpt>./Vendor/MSFT/VPN/Profile/MyAppVpnProfile/Mode<ept id=\"p1\">**</ept>.","pos":[3300,3387],"source":" In our example, the string would be **./Vendor/MSFT/VPN/Profile/MyAppVpnProfile/Mode**."},{"pos":[3396,3448],"content":"For <bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>, enter <bpt id=\"p2\">**</bpt>BLACKLIST<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>WHITELIST<ept id=\"p3\">**</ept>.","source":"For **Value**, enter **BLACKLIST** or **WHITELIST**."},{"pos":[3456,3484],"content":"Step 3: Deploy both policies","linkify":"Step 3: Deploy both policies","nodes":[{"content":"Step 3: Deploy both policies","pos":[0,28]}]},{"pos":[3486,3546],"content":"You must deploy <bpt id=\"p1\">*</bpt>both<ept id=\"p1\">*</ept> policies to the <bpt id=\"p2\">*</bpt>same<ept id=\"p2\">*</ept> Intune groups.","source":"You must deploy *both* policies to the *same* Intune groups."},{"pos":[3552,3662],"content":"In the <bpt id=\"p1\">**</bpt>Policy<ept id=\"p1\">**</ept> workspace, select the policy that you want to deploy, and then choose <bpt id=\"p2\">**</bpt>Manage Deployment<ept id=\"p2\">**</ept>.","source":"In the **Policy** workspace, select the policy that you want to deploy, and then choose **Manage Deployment**."},{"pos":[3667,3707],"content":"In the <bpt id=\"p1\">**</bpt>Manage Deployment<ept id=\"p1\">**</ept> dialog box:","source":"In the **Manage Deployment** dialog box:"},{"pos":[3716,3822],"content":"<bpt id=\"p1\">**</bpt>To deploy the policy<ept id=\"p1\">**</ept>, select one or more groups to deploy the policy to, then choose <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"**To deploy the policy**, select one or more groups to deploy the policy to, then choose **Add** > **OK**."},{"pos":[3831,3907],"content":"<bpt id=\"p1\">**</bpt>To close the dialog box without deploying the policy<ept id=\"p1\">**</ept>, choose <bpt id=\"p2\">**</bpt>Cancel<ept id=\"p2\">**</ept>.","source":"**To close the dialog box without deploying the policy**, choose **Cancel**."},{"content":"A status summary and alerts on the <bpt id=\"p1\">**</bpt>Overview<ept id=\"p1\">**</ept> page of the <bpt id=\"p2\">**</bpt>Policy<ept id=\"p2\">**</ept> workspace identify issues with the policy that require your attention.","pos":[3909,4050],"source":"A status summary and alerts on the **Overview** page of the **Policy** workspace identify issues with the policy that require your attention."},{"content":"A status summary also appears in the <bpt id=\"p1\">**</bpt>Dashboard<ept id=\"p1\">**</ept> workspace.","pos":[4051,4112],"source":" A status summary also appears in the **Dashboard** workspace."}],"content":"---\n# required metadata\n\ntitle: Per-app VPN for Android using Pulse Secure | Microsoft Intune\ndescription: You can create a per-app VPN profile for Android devices managed by Intune.\nkeywords:\nauthor: nbigman\nmanager: angrobe\nms.date: 08/28/2016\nms.topic: article\nms.prod:\nms.service: microsoft-intune\nms.technology:\nms.assetid: ac65e906-3922-429f-8d9c-d313d3126645\n\n# optional metadata\n\n#ROBOTS:\n#audience:\n#ms.devlang:\nms.reviewer: chrisbal\nms.suite: ems\n#ms.tgt_pltfrm:\n#ms.custom:\n\n---\n\n# Use a custom policy to create a per-app VPN profile for Android devices\n\nYou can create a per-app VPN profile for Android 5.0 and later devices that are managed by Intune. First, create a VPN profile that uses the Pulse Secure connection type. Then, create a custom configuration policy that associates the VPN profile with specific apps. \n\nAfter you deploy the policy to your Android device or user groups, users should start the PulseSecure VPN. PulseSecure will then allow traffic only from the specified apps to use the open VPN connection.\n\n> [!NOTE]\n>\n> Only the Pulse Secure connection type is supported for this profile.\n\n\n### Step 1: Create a VPN profile\n\n1. In the [Microsoft Intune administration console](https://manage.microsoft.com), choose **Policy** > **Add Policy**.\n2. To select a template for the new policy, expand **Android**, and then choose **VPN Profile (Android 4 and later)**.\n3. In the template, for **Connection type**, choose **Pulse Secure**.\n4. Finish and save the VPN profile. For more details about VPN profiles, see [VPN connections](../deploy-use/vpn-connections-in-microsoft-intune.md).\n\n> [!NOTE]\n>\n> Take note of the VPN profile name to use in the next step. For example, MyAppVpnProfile.\n\n### Step 2: Create a custom configuration policy\n\n   1. In the Intune admin console, choose **Policy** > **Add Policy** > **Android** > **Custom configuration** > **Create Policy**.\n   2. Enter a name for the policy.\n   3. Under **OMA-URI settings**, choose **Add**.\n   4. Enter a setting name.\n   5. For **Data type**, specify **String**.\n   6. For **OMA-URI**, specify this string: **./Vendor/MSFT/VPN/Profile/*Name*/PackageList**, where *Name* is the VPN profile name you noted in Step 1. In our example, the string would be **./Vendor/MSFT/VPN/Profile/MyAppVpnProfile/PackageList**.\n   7.   For **Value**, create a semicolon-separated list of packages to associate with the profile. For example, if you want Excel and the Google Chrome browser to use the VPN connection, enter **com.microsoft.office.excel;com.android.chrome**.\n\n![Example Android per-app VPN custom policy](./media/android_per_app_vpn_oma_uri.png)\n\n#### Set your app list to blacklist or whitelist (optional)\n  You can specify a list of apps that *cannot* use the VPN connection by using the **BLACKLIST** value. All other apps will connect through the VPN.\n  Alternatively, you can use the **WHITELIST** value to specify a list of apps that *can* use the VPN connection. Apps that are not on the list will not connect through the VPN.\n  1.    Under **OMA-URI** settings, choose **Add**.\n  2.    Enter a setting name.\n  3.    For **Data type**, specify **String**.\n  4.    For **OMA-URI**, use this string: **./Vendor/MSFT/VPN/Profile/*Name*/Mode**, where *Name* is the VPN profile name you noted in Step 1. In our example, the string would be **./Vendor/MSFT/VPN/Profile/MyAppVpnProfile/Mode**.\n  5.    For **Value**, enter **BLACKLIST** or **WHITELIST**.\n\n\n\n### Step 3: Deploy both policies\n\nYou must deploy *both* policies to the *same* Intune groups.\n\n1.  In the **Policy** workspace, select the policy that you want to deploy, and then choose **Manage Deployment**.\n2.  In the **Manage Deployment** dialog box:\n    -   **To deploy the policy**, select one or more groups to deploy the policy to, then choose **Add** > **OK**.\n    -   **To close the dialog box without deploying the policy**, choose **Cancel**.\n\nA status summary and alerts on the **Overview** page of the **Policy** workspace identify issues with the policy that require your attention. A status summary also appears in the **Dashboard** workspace.\n"}