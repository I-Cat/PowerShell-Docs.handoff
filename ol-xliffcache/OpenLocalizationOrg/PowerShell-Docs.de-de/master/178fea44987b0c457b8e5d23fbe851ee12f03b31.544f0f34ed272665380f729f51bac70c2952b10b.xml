{"nodes":[{"pos":[105,126],"content":"powershell,cmdlet,jea","needQuote":true,"nodes":[{"content":"powershell,cmdlet,jea","pos":[0,21]}]},{"pos":[156,195],"content":"key concepts used throughout this guide","needQuote":true,"nodes":[{"content":"key concepts used throughout this guide","pos":[0,39]}]},{"content":"Key Concepts Used Throughout This Guide","pos":[230,269]},{"pos":[270,294],"content":"<bpt id=\"p1\">**</bpt>What exactly is JEA?<ept id=\"p1\">**</ept>","source":"**What exactly is JEA?**"},{"content":"JEA is an extension of PowerShell <bpt id=\"p1\">[</bpt>constrained endpoints<ept id=\"p1\">](http://blogs.technet.com/b/heyscriptingguy/archive/2014/03/31/introduction-to-powershell-endpoints.aspx)</ept> that adds in role definitions, virtual accounts, and several other improvements to make it even easier to lock down your management endpoints.","pos":[296,601],"source":"JEA is an extension of PowerShell [constrained endpoints](http://blogs.technet.com/b/heyscriptingguy/archive/2014/03/31/introduction-to-powershell-endpoints.aspx) that adds in role definitions, virtual accounts, and several other improvements to make it even easier to lock down your management endpoints."},{"content":"A JEA endpoint consists of a PowerShell Session Configuration file and one or more Role Capability files.","pos":[602,707],"source":"\nA JEA endpoint consists of a PowerShell Session Configuration file and one or more Role Capability files."},{"pos":[709,770],"content":"<bpt id=\"p1\">**</bpt>What are Session Configuration and Role Capability files?<ept id=\"p1\">**</ept>","source":"**What are Session Configuration and Role Capability files?**"},{"content":"PowerShell Session Configuration files (.pssc) define <bpt id=\"p1\">*</bpt>who<ept id=\"p1\">*</ept> can connect to a PowerShell endpoint and <bpt id=\"p2\">*</bpt>how<ept id=\"p2\">*</ept> it is configured.","pos":[772,896],"source":"PowerShell Session Configuration files (.pssc) define *who* can connect to a PowerShell endpoint and *how* it is configured."},{"content":"This is where you would map users and security groups to specific management roles and configure global settings like virtual accounts and transcription policies.","pos":[897,1059],"source":"\nThis is where you would map users and security groups to specific management roles and configure global settings like virtual accounts and transcription policies."},{"content":"Session configuration files are specific to each machine, which allows you to control access on a per-machine basis if desired.","pos":[1060,1187],"source":"\nSession configuration files are specific to each machine, which allows you to control access on a per-machine basis if desired."},{"content":"PowerShell Role Capability files (.psrc) define <bpt id=\"p1\">*</bpt>what<ept id=\"p1\">*</ept> users belonging to a role are able to do on the system.","pos":[1189,1299],"source":"PowerShell Role Capability files (.psrc) define *what* users belonging to a role are able to do on the system."},{"content":"Here, you can restrict which cmdlets, functions, providers, and external programs a user may use in their JEA session.","pos":[1300,1418],"source":"\nHere, you can restrict which cmdlets, functions, providers, and external programs a user may use in their JEA session."},{"content":"Role Capability files are often generic for the role being served (DNS admin, level 1 helpdesk, read-only inventory auditing, etc.) and belong to PowerShell modules, making it easy to share them across your environment and with others.","pos":[1419,1654],"source":"\nRole Capability files are often generic for the role being served (DNS admin, level 1 helpdesk, read-only inventory auditing, etc.) and belong to PowerShell modules, making it easy to share them across your environment and with others."},{"pos":[1656,1699],"content":"<bpt id=\"p1\">**</bpt>How does JEA leverage virtual accounts?<ept id=\"p1\">**</ept>","source":"**How does JEA leverage virtual accounts?**"},{"content":"In the PowerShell Session Configuration file, you can configure JEA sessions to use virtual \"run as\" accounts.","pos":[1701,1811]},{"content":"Virtual accounts are one-time privileged accounts spun up for the specific connecting user in that specific session under which context the user's commands are executed.","pos":[1812,1981],"source":"\nVirtual accounts are one-time privileged accounts spun up for the specific connecting user in that specific session under which context the user's commands are executed."},{"content":"Virtual accounts belong to the local \"Administrators\" security group by default, but can optionally be configured to only belong to security groups you specify.","pos":[1982,2142],"source":"\nVirtual accounts belong to the local \"Administrators\" security group by default, but can optionally be configured to only belong to security groups you specify."},{"content":"<bpt id=\"p1\">**</bpt>PowerShell Remoting<ept id=\"p1\">**</ept>: PowerShell remoting allows you to run PowerShell commands against remote machines.","pos":[2144,2251],"source":"**PowerShell Remoting**:\nPowerShell remoting allows you to run PowerShell commands against remote machines."},{"content":"You can operate against one or many computers, and use either temporary or persistent connections.","pos":[2252,2350],"source":"\nYou can operate against one or many computers, and use either temporary or persistent connections."},{"content":"In this demo, you remoted into your local machine with an interactive session.","pos":[2351,2429],"source":"\nIn this demo, you remoted into your local machine with an interactive session."},{"content":"JEA restricts the functionality available through PowerShell remoting.","pos":[2430,2500],"source":"\nJEA restricts the functionality available through PowerShell remoting."},{"content":"For more information about PowerShell remoting, run <ph id=\"ph1\">`Get-Help about_Remote`</ph>.","pos":[2501,2577],"source":"\nFor more information about PowerShell remoting, run `Get-Help about_Remote`."},{"content":"<bpt id=\"p1\">**</bpt>\"RunAs\" User<ept id=\"p1\">**</ept>: When using JEA, a non-administrator \"runs as\" a privileged \"Virtual Account.\"","pos":[2579,2674],"source":"**\"RunAs\" User**:\nWhen using JEA, a non-administrator \"runs as\" a privileged \"Virtual Account.\""},{"content":"The Virtual Account only lasts the duration of the remote session.","pos":[2675,2741],"source":"\nThe Virtual Account only lasts the duration of the remote session."},{"content":"That is to say, it is created when a user connects to the endpoint, and destroyed when the user ends the session.","pos":[2742,2855],"source":"\nThat is to say, it is created when a user connects to the endpoint, and destroyed when the user ends the session."},{"content":"By default, the Virtual Account is a member of the local Administrators group.","pos":[2856,2934],"source":"\nBy default, the Virtual Account is a member of the local Administrators group."},{"content":"On a domain controller, it is a member of Domain Admins.","pos":[2935,2991],"source":"\nOn a domain controller, it is a member of Domain Admins."},{"content":"Virtual Accounts are local to the machine on which they are created, and do not have permissions outside of that machine.","pos":[2992,3113],"source":"\nVirtual Accounts are local to the machine on which they are created, and do not have permissions outside of that machine."},{"content":"This means that they are not registered in Active Directory (no RID is assigned).","pos":[3114,3195],"source":"\nThis means that they are not registered in Active Directory (no RID is assigned)."},{"content":"Additionally, if an allowed command/script tries to access resources outside of the local machine, it will be accessing those resources under the machine's identity, not the Virtual Account identity.","pos":[3196,3395],"source":"\nAdditionally, if an allowed command/script tries to access resources outside of the local machine, it will be accessing those resources under the machine's identity, not the Virtual Account identity."},{"content":"<bpt id=\"p1\">**</bpt>\"Connected\" User<ept id=\"p1\">**</ept>: The non-administrator user who connects to the JEA endpoint and to whom roles are assigned.","pos":[3397,3510],"source":"**\"Connected\" User**:\nThe non-administrator user who connects to the JEA endpoint and to whom roles are assigned."},{"content":"Any commands this user runs are run under the context of the RunAs User or virtual account.","pos":[3511,3602],"source":"\nAny commands this user runs are run under the context of the RunAs User or virtual account."}],"content":"---\ndescription:  \nmanager:  dongill\nms.topic:  article\nauthor:  jpjofre\nms.prod:  powershell\nkeywords:  powershell,cmdlet,jea\nms.date:  2016-06-22\ntitle:  key concepts used throughout this guide\nms.technology:  powershell\n---\n\n# Key Concepts Used Throughout This Guide\n**What exactly is JEA?**\n\nJEA is an extension of PowerShell [constrained endpoints](http://blogs.technet.com/b/heyscriptingguy/archive/2014/03/31/introduction-to-powershell-endpoints.aspx) that adds in role definitions, virtual accounts, and several other improvements to make it even easier to lock down your management endpoints.\nA JEA endpoint consists of a PowerShell Session Configuration file and one or more Role Capability files.\n\n**What are Session Configuration and Role Capability files?**\n\nPowerShell Session Configuration files (.pssc) define *who* can connect to a PowerShell endpoint and *how* it is configured.\nThis is where you would map users and security groups to specific management roles and configure global settings like virtual accounts and transcription policies.\nSession configuration files are specific to each machine, which allows you to control access on a per-machine basis if desired.\n\nPowerShell Role Capability files (.psrc) define *what* users belonging to a role are able to do on the system.\nHere, you can restrict which cmdlets, functions, providers, and external programs a user may use in their JEA session.\nRole Capability files are often generic for the role being served (DNS admin, level 1 helpdesk, read-only inventory auditing, etc.) and belong to PowerShell modules, making it easy to share them across your environment and with others.\n\n**How does JEA leverage virtual accounts?**\n\nIn the PowerShell Session Configuration file, you can configure JEA sessions to use virtual \"run as\" accounts.\nVirtual accounts are one-time privileged accounts spun up for the specific connecting user in that specific session under which context the user's commands are executed.\nVirtual accounts belong to the local \"Administrators\" security group by default, but can optionally be configured to only belong to security groups you specify.\n\n**PowerShell Remoting**:\nPowerShell remoting allows you to run PowerShell commands against remote machines.\nYou can operate against one or many computers, and use either temporary or persistent connections.\nIn this demo, you remoted into your local machine with an interactive session.\nJEA restricts the functionality available through PowerShell remoting.\nFor more information about PowerShell remoting, run `Get-Help about_Remote`.\n\n**\"RunAs\" User**:\nWhen using JEA, a non-administrator \"runs as\" a privileged \"Virtual Account.\"\nThe Virtual Account only lasts the duration of the remote session.\nThat is to say, it is created when a user connects to the endpoint, and destroyed when the user ends the session.\nBy default, the Virtual Account is a member of the local Administrators group.\nOn a domain controller, it is a member of Domain Admins.\nVirtual Accounts are local to the machine on which they are created, and do not have permissions outside of that machine.\nThis means that they are not registered in Active Directory (no RID is assigned).\nAdditionally, if an allowed command/script tries to access resources outside of the local machine, it will be accessing those resources under the machine's identity, not the Virtual Account identity.\n\n**\"Connected\" User**:\nThe non-administrator user who connects to the JEA endpoint and to whom roles are assigned.\nAny commands this user runs are run under the context of the RunAs User or virtual account.\n\n"}