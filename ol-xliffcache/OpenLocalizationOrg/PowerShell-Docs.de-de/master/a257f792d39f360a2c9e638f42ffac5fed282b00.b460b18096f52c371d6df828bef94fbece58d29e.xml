{"nodes":[{"content":"Allowing for Identical Duplicate Resources in a Configuration","pos":[2,63]},{"content":"DSC does not allow or handle conflicting resource definitions within a configuration.","pos":[65,150]},{"content":"Instead of trying to resolve the conflict, it simply fails.","pos":[151,210]},{"content":"As configuration reuse becomes more utilized through composite resources, etc. conflicts will occur more often.","pos":[211,323],"source":" As configuration reuse becomes more \nutilized through composite resources, etc. conflicts will occur more often."},{"content":"When conflicting resource definitions are identical, DSC should be smart and allow this.","pos":[324,412]},{"content":"With this release, we support having multiple resource instances that have identical definitions:","pos":[413,511],"source":" With this release, we \nsupport having multiple resource instances that have identical definitions:"},{"content":"In previous releases, the result would be a failed compilation due to a conflict between the WindowsFeature FE_IIS and WindowsFeature Worker_IIS instances trying to ensure the 'Web-Server' role is installed.","pos":[1106,1313]},{"content":"Notice that <bpt id=\"p1\">*</bpt>all<ept id=\"p1\">*</ept> of the properties that are being configured are identical in these two configurations.","pos":[1314,1418],"source":" Notice that *all* of the properties that are being configured are identical in these two configurations."},{"content":"Since <bpt id=\"p1\">*</bpt>all<ept id=\"p1\">*</ept> of the properties in these two resources are identical, this will result in a successful compilation now.","pos":[1419,1536],"source":" Since *all* of the properties in these two resources are identical, this will result in a successful compilation now."},{"content":"If any of the properties are different between the two resources, they will not be considered identical and compilation will fail:","pos":[1539,1669]},{"content":"This very similar configuration will fail because the WindowsFeature FE_IIS and the WindowsFeature Worker_IIS resources are no longer identical and therefore conflict.","pos":[2291,2458]}],"content":"# Allowing for Identical Duplicate Resources in a Configuration\n\nDSC does not allow or handle conflicting resource definitions within a configuration. Instead of trying to resolve the conflict, it simply fails. As configuration reuse becomes more \nutilized through composite resources, etc. conflicts will occur more often. When conflicting resource definitions are identical, DSC should be smart and allow this. With this release, we \nsupport having multiple resource instances that have identical definitions:\n\n```powershell\nConfiguration IIS_FrontEnd\n{\n    WindowsFeature FE_IIS         #Identical resource\n    {\n        Ensure = 'Present'\n        Name = 'Web-Server'\n    }\n\n    WindowsFeature FTP\n    {\n        Ensure = 'Present'\n        Name = 'Web-FTP-Server'\n    }\n}\n\nConfiguration IIS_Worker\n{\n    WindowsFeature Worker_IIS      #Identical resource\n    {\n        Ensure = 'Present'\n        Name = 'Web-Server'\n    }\n\n    WindowsFeature ASP\n    {\n        Ensure = 'Present'\n        Name = 'Web-ASP-Net45'\n    }\n}\n\nConfiguration WebApplication\n{\n    IIS_Frontend Web {}\n\n    IIS_Worker ASP {}\n}\n```\n\nIn previous releases, the result would be a failed compilation due to a conflict between the WindowsFeature FE_IIS and WindowsFeature Worker_IIS instances trying to ensure the 'Web-Server' role is installed. Notice that *all* of the properties that are being configured are identical in these two configurations. Since *all* of the properties in these two resources are identical, this will result in a successful compilation now. \n\nIf any of the properties are different between the two resources, they will not be considered identical and compilation will fail:\n\n```powershell\nConfiguration IIS_FrontEnd\n{\n    WindowsFeature FE_IIS\n    {\n        Ensure = 'Present'     # Ensure is Present here\n        Name = 'Web-Server'\n    }\n\n    WindowsFeature FTP\n    {\n        Ensure = 'Present'\n        Name = 'Web-FTP-Server'\n    }\n}\n\nConfiguration IIS_Worker\n{\n    WindowsFeature Worker_IIS\n    {\n        Ensure = 'Absent'      # Ensure property is Absent instead of Present\n        Name = 'Web-Server'\n    }\n\n    WindowsFeature ASP\n    {\n        Ensure = 'Present'\n        Name = 'Web-ASP-Net45'\n    }\n}\n\nConfiguration WebApplication\n{\n    IIS_Frontend Web {}\n\n    IIS_Worker ASP {}\n}\n```\n\nThis very similar configuration will fail because the WindowsFeature FE_IIS and the WindowsFeature Worker_IIS resources are no longer identical and therefore conflict."}