{"nodes":[{"pos":[32,86],"content":"Troubleshooting ATA using the ATA logs | Microsoft ATA","needQuote":true,"nodes":[{"content":"Troubleshooting ATA using the ATA logs | Microsoft ATA","pos":[0,54]}]},{"pos":[100,161],"content":"Describes how you can use the ATA logs to troubleshoot issues","needQuote":true,"nodes":[{"content":"Describes how you can use the ATA logs to troubleshoot issues","pos":[0,61]}]},{"content":"Applies to: Advanced Threat Analytics version 1.7","pos":[479,528]},{"pos":[535,573],"content":"Troubleshooting ATA using the ATA logs","linkify":"Troubleshooting ATA using the ATA logs","nodes":[{"content":"Troubleshooting ATA using the ATA logs","pos":[0,38]}]},{"content":"The ATA logs provide insight into what each component of ATA is doing at any given point in time.","pos":[574,671]},{"pos":[676,692],"content":"ATA Gateway logs","linkify":"ATA Gateway logs","nodes":[{"content":"ATA Gateway logs","pos":[0,16]}]},{"content":"In this section, every reference to the ATA Gateway is relevant also for the ATA Lightweight Gateway.","pos":[693,794]},{"content":"The ATA Gateway logs are located in a subfolder called <bpt id=\"p1\">**</bpt>Logs<ept id=\"p1\">**</ept> where ATA is installed; the default location is:  .","pos":[797,912],"source":"The ATA Gateway logs are located in a subfolder called **Logs** where ATA is installed; the default location is:  ."},{"content":"In the default installation location, it can be found at: <bpt id=\"p1\">**</bpt>C:\\Program Files\\Microsoft Advanced Threat Analytics\\Gateway\\Logs<ept id=\"p1\">**</ept>.","pos":[913,1041],"source":" In the default installation location, it can be found at: **C:\\Program Files\\Microsoft Advanced Threat Analytics\\Gateway\\Logs**."},{"content":"The ATA Gateway has the following logs:","pos":[1043,1082]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Gateway.log<ept id=\"p1\">**</ept> – This log contains everything that happens in the ATA Gateway (including resolution and errors).","pos":[1088,1215],"source":"**Microsoft.Tri.Gateway.log** – This log contains everything that happens in the ATA Gateway (including resolution and errors)."},{"content":"Its main use is getting the overall status of all operations in the chronological order in which they occurred.","pos":[1216,1327]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Gateway-Resolution.log<ept id=\"p1\">**</ept> – This log contains the resolution details of the entities seen in traffic by the ATA Gateway.","pos":[1333,1468],"source":"**Microsoft.Tri.Gateway-Resolution.log** – This log contains the resolution details of the entities seen in traffic by the ATA Gateway."},{"content":"Its main use is investigating resolution issues of entities.","pos":[1469,1529]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Gateway-Errors.log<ept id=\"p1\">**</ept> – This log contains just the errors that are caught by the ATA Gateway.","pos":[1535,1643],"source":"**Microsoft.Tri.Gateway-Errors.log** – This log contains just the errors that are caught by the ATA Gateway."},{"content":"Its main use is performing health checks and investigating issues that need to be correlated to specific times.","pos":[1644,1755]},{"pos":[1761,2185],"content":"**Microsoft.Tri.Gateway-ExceptionStatistics.log** – This log groups all similar errors and exceptions, and measures their count.\nThis file starts out  empty each time the ATA Gateway service starts and is updated every minute.Its main use is understanding if there are any new errors or issues with the ATA Gateway (because the errors are grouped it is easier to read and quickly understand if there are any new issues).","leadings":["","    "],"nodes":[{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Gateway-ExceptionStatistics.log<ept id=\"p1\">**</ept> – This log groups all similar errors and exceptions, and measures their count.","pos":[0,128],"source":"**Microsoft.Tri.Gateway-ExceptionStatistics.log** – This log groups all similar errors and exceptions, and measures their count."},{"content":"This file starts out  empty each time the ATA Gateway service starts and is updated every minute.Its main use is understanding if there are any new errors or issues with the ATA Gateway (because the errors are grouped it is easier to read and quickly understand if there are any new issues).","pos":[129,420]}]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Gateway.Updater.log<ept id=\"p1\">**</ept> - This log is used for the gateway updater process, which is responsible for updating the gateway if configured to do so automatically.","pos":[2190,2363],"source":"**Microsoft.Tri.Gateway.Updater.log** - This log is used for the gateway updater process, which is responsible for updating the gateway if configured to do so automatically."},{"content":"For the ATA Lightweight Gateway, the gateway updater process is also responsible  for the resource limitations of the ATA Lightweight Gateway.","pos":[2364,2507],"source":" \nFor the ATA Lightweight Gateway, the gateway updater process is also responsible  for the resource limitations of the ATA Lightweight Gateway."},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Gateway.Updater-ExceptionStatistics.log<ept id=\"p1\">**</ept> - This log groups all similar errors and exceptions together, and measures their count.","pos":[2512,2657],"source":"**Microsoft.Tri.Gateway.Updater-ExceptionStatistics.log** - This log groups all similar errors and exceptions together, and measures their count."},{"content":"This file starts out empty each time the ATA Updater service starts and is updated every minute.","pos":[2658,2754]},{"content":"It enables you to understand if there are any new errors or issues with the ATA Updater.","pos":[2755,2843]},{"content":"The errors are grouped to make it easier to quickly understand if any new errors or issues are detected.","pos":[2844,2948]},{"pos":[2952,3299],"content":"[!NOTE]\nThe first three log files have a maximum size of up to 50 MB. When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed. By default, if more than 10 files from the same type already exist, the oldest are deleted.","leadings":["","> "],"nodes":[{"content":"The first three log files have a maximum size of up to 50 MB. When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed. By default, if more than 10 files from the same type already exist, the oldest are deleted.","pos":[8,345],"nodes":[{"content":"The first three log files have a maximum size of up to 50 MB.","pos":[0,61]},{"content":"When that size is reached, a new log file is opened and the previous one is renamed to \"<ph id=\"ph1\">&amp;lt;</ph>original file name<ph id=\"ph2\">&amp;gt;</ph>-Archived-00000\" where the number increments each time it is renamed.","pos":[62,245],"source":" When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed."},{"content":"By default, if more than 10 files from the same type already exist, the oldest are deleted.","pos":[246,337]}]}]},{"pos":[3304,3319],"content":"ATA Center logs","linkify":"ATA Center logs","nodes":[{"content":"ATA Center logs","pos":[0,15]}]},{"content":"The ATA Center logs are located in a subfolder called <bpt id=\"p1\">**</bpt>Logs<ept id=\"p1\">**</ept>.","pos":[3320,3383],"source":"The ATA Center logs are located in a subfolder called **Logs**."},{"content":"In the default installation location, it can be found at: <bpt id=\"p1\">**</bpt>C:\\Program Files\\Microsoft Advanced Threat Analytics\\Center\\Logs<ept id=\"p1\">**</ept>\".","pos":[3384,3512],"source":" In the default installation location, it can be found at: **C:\\Program Files\\Microsoft Advanced Threat Analytics\\Center\\Logs**\"."},{"pos":[3515,3618],"content":"[!Note]\nThe ATA console logs that were formerly under IIS logs are now located under ATA Center logs.","leadings":["","> "],"nodes":[{"content":"The ATA console logs that were formerly under IIS logs are now located under ATA Center logs.","pos":[8,101]}]},{"content":"The ATA Center has the following logs:","pos":[3620,3658]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Center.log<ept id=\"p1\">**</ept> – This log contains everything that happens in the ATA Center, including detections and errors.","pos":[3664,3788],"source":"**Microsoft.Tri.Center.log** – This log contains everything that happens in the ATA Center, including detections and errors."},{"content":"Its main use is getting the overall status of all operations in the chronological order in which they occurred.","pos":[3789,3900]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Center-Detection.log<ept id=\"p1\">**</ept> – This log contains just the detection details of the ATA Center.","pos":[3906,4010],"source":"**Microsoft.Tri.Center-Detection.log** – This log contains just the detection details of the ATA Center."},{"content":"Its main use is investigating detection issues.","pos":[4011,4058]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Center-Errors.log<ept id=\"p1\">**</ept> – This log contains just the errors that are caught by the ATA Center.","pos":[4064,4170],"source":"**Microsoft.Tri.Center-Errors.log** – This log contains just the errors that are caught by the ATA Center."},{"content":"Its main use is performing health checks and investigating issues that need to be correlated to specific times.","pos":[4171,4282]},{"pos":[4288,4707],"content":"**Microsoft.Tri.Center-ExceptionStatistics.log** – This log groups all similar errors and exceptions, and measures their count.\nThis file starts out empty each time the ATA Center service starts and is updated every minute. Its main use is understanding if there are any new errors or issues with the ATA Center - because the errors are grouped it is easier to quickly understand if there is a new errors or issues.","leadings":["","    "],"nodes":[{"content":"<bpt id=\"p1\">**</bpt>Microsoft.Tri.Center-ExceptionStatistics.log<ept id=\"p1\">**</ept> – This log groups all similar errors and exceptions, and measures their count.","pos":[0,127],"source":"**Microsoft.Tri.Center-ExceptionStatistics.log** – This log groups all similar errors and exceptions, and measures their count."},{"content":"This file starts out empty each time the ATA Center service starts and is updated every minute.","pos":[128,223]},{"content":"Its main use is understanding if there are any new errors or issues with the ATA Center - because the errors are grouped it is easier to quickly understand if there is a new errors or issues.","pos":[224,415]}]},{"pos":[4711,5058],"content":"[!NOTE]\nThe first three log files have a maximum size of up to 50 MB. When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed. By default, if more than 10 files from the same type already exist, the oldest are deleted.","leadings":["","> "],"nodes":[{"content":"The first three log files have a maximum size of up to 50 MB. When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed. By default, if more than 10 files from the same type already exist, the oldest are deleted.","pos":[8,345],"nodes":[{"content":"The first three log files have a maximum size of up to 50 MB.","pos":[0,61]},{"content":"When that size is reached, a new log file is opened and the previous one is renamed to \"<ph id=\"ph1\">&amp;lt;</ph>original file name<ph id=\"ph2\">&amp;gt;</ph>-Archived-00000\" where the number increments each time it is renamed.","pos":[62,245],"source":" When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed."},{"content":"By default, if more than 10 files from the same type already exist, the oldest are deleted.","pos":[246,337]}]}]},{"pos":[5064,5083],"content":"ATA Deployment logs","linkify":"ATA Deployment logs","nodes":[{"content":"ATA Deployment logs","pos":[0,19]}]},{"content":"The ATA deployment logs are located in the temp directory for the user who installed the product.","pos":[5084,5181]},{"content":"In the default installation location, it can be found at: <bpt id=\"p1\">**</bpt>C:\\Users\\Administrator\\AppData\\Local\\Temp<ept id=\"p1\">**</ept> (or one directory above %temp%).","pos":[5182,5318],"source":" In the default installation location, it can be found at: **C:\\Users\\Administrator\\AppData\\Local\\Temp** (or one directory above %temp%)."},{"content":"ATA Center deployment logs:","pos":[5320,5347]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Advanced Threat Analytics Center_20150601104213.log<ept id=\"p1\">**</ept> - This log lists the steps in the process of the deployment of the ATA Center.","pos":[5353,5497],"source":"**Microsoft Advanced Threat Analytics Center_20150601104213.log** - This log lists the steps in the process of the deployment of the ATA Center."},{"content":"Its main use is tracking the ATA Center deployment process.","pos":[5498,5557]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Advanced Threat Analytics Center_20150601104213_0_MongoDBPackage.log<ept id=\"p1\">**</ept> - This log lists the steps in the process of MongoDB deployment on the ATA Center.","pos":[5563,5728],"source":"**Microsoft Advanced Threat Analytics Center_20150601104213_0_MongoDBPackage.log** - This log lists the steps in the process of MongoDB deployment on the ATA Center."},{"content":"Its main use is tracking the MongoDB deployment process.","pos":[5729,5785]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Advanced Threat Analytics Center_20150601104213_1_MsiPackage.log<ept id=\"p1\">**</ept> - This log file lists the steps in the process of the deployment of the ATA Center binaries.","pos":[5791,5962],"source":"**Microsoft Advanced Threat Analytics Center_20150601104213_1_MsiPackage.log** - This log file lists the steps in the process of the deployment of the ATA Center binaries."},{"content":"Its main use is tracking the deployment of the ATA Center binaries.","pos":[5963,6030]},{"content":"ATA Gateway and ATA Lightweight Gateway deployment logs:","pos":[6032,6088]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Advanced Threat Analytics Gateway_20151214014801.log<ept id=\"p1\">**</ept> - This log lists the steps in the process of the deployment of the ATA Gateway.","pos":[6094,6240],"source":"**Microsoft Advanced Threat Analytics Gateway_20151214014801.log** - This log lists the steps in the process of the deployment of the ATA Gateway."},{"content":"Its main use is tracking the ATA Gateway deployment process.","pos":[6241,6301]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Advanced Threat Analytics Gateway_20151214014801_001_MsiPackage.log<ept id=\"p1\">**</ept> - This log file lists the steps in the process of the deployment of the ATA Gateway binaries.","pos":[6307,6482],"source":"**Microsoft Advanced Threat Analytics Gateway_20151214014801_001_MsiPackage.log** - This log file lists the steps in the process of the deployment of the ATA Gateway binaries."},{"content":"Its main use is tracking the deployment of the ATA Gateway binaries.","pos":[6483,6551]},{"pos":[6557,6565],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"ATA prerequisites","pos":[6569,6586]},{"content":"ATA capacity planning","pos":[6649,6670]},{"content":"Configure event collection","pos":[6737,6763]},{"content":"Configuring Windows event forwarding","pos":[6834,6870]},{"content":"Check out the ATA forum!","pos":[6978,7002]}],"content":"---\n# required metadata\n\ntitle: Troubleshooting ATA using the ATA logs | Microsoft ATA\ndescription: Describes how you can use the ATA logs to troubleshoot issues\nkeywords:\nauthor: rkarlin\nmanager: mbaldwin\nms.date: 08/24/2016\nms.topic: article\nms.prod:\nms.service: advanced-threat-analytics\nms.technology:\nms.assetid: b8ad5511-8893-4d1d-81ee-b9a86e378347\n\n# optional metadata\n\n#ROBOTS:\n#audience:\n#ms.devlang:\nms.reviewer: bennyl\nms.suite: ems\n#ms.tgt_pltfrm:\n#ms.custom:\n\n---\n\n*Applies to: Advanced Threat Analytics version 1.7*\n\n\n\n# Troubleshooting ATA using the ATA logs\nThe ATA logs provide insight into what each component of ATA is doing at any given point in time.\n\n## ATA Gateway logs\nIn this section, every reference to the ATA Gateway is relevant also for the ATA Lightweight Gateway. \n\nThe ATA Gateway logs are located in a subfolder called **Logs** where ATA is installed; the default location is:  . In the default installation location, it can be found at: **C:\\Program Files\\Microsoft Advanced Threat Analytics\\Gateway\\Logs**.\n\nThe ATA Gateway has the following logs:\n\n-   **Microsoft.Tri.Gateway.log** – This log contains everything that happens in the ATA Gateway (including resolution and errors). Its main use is getting the overall status of all operations in the chronological order in which they occurred.\n\n-   **Microsoft.Tri.Gateway-Resolution.log** – This log contains the resolution details of the entities seen in traffic by the ATA Gateway. Its main use is investigating resolution issues of entities.\n\n-   **Microsoft.Tri.Gateway-Errors.log** – This log contains just the errors that are caught by the ATA Gateway. Its main use is performing health checks and investigating issues that need to be correlated to specific times.\n\n-   **Microsoft.Tri.Gateway-ExceptionStatistics.log** – This log groups all similar errors and exceptions, and measures their count.\n    This file starts out  empty each time the ATA Gateway service starts and is updated every minute.Its main use is understanding if there are any new errors or issues with the ATA Gateway (because the errors are grouped it is easier to read and quickly understand if there are any new issues).\n-   **Microsoft.Tri.Gateway.Updater.log** - This log is used for the gateway updater process, which is responsible for updating the gateway if configured to do so automatically. \nFor the ATA Lightweight Gateway, the gateway updater process is also responsible  for the resource limitations of the ATA Lightweight Gateway.\n-   **Microsoft.Tri.Gateway.Updater-ExceptionStatistics.log** - This log groups all similar errors and exceptions together, and measures their count. This file starts out empty each time the ATA Updater service starts and is updated every minute. It enables you to understand if there are any new errors or issues with the ATA Updater. The errors are grouped to make it easier to quickly understand if any new errors or issues are detected.\n\n> [!NOTE]\n> The first three log files have a maximum size of up to 50 MB. When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed. By default, if more than 10 files from the same type already exist, the oldest are deleted.\n\n## ATA Center logs\nThe ATA Center logs are located in a subfolder called **Logs**. In the default installation location, it can be found at: **C:\\Program Files\\Microsoft Advanced Threat Analytics\\Center\\Logs**\".\n> [!Note]\n> The ATA console logs that were formerly under IIS logs are now located under ATA Center logs.\n\nThe ATA Center has the following logs:\n\n-   **Microsoft.Tri.Center.log** – This log contains everything that happens in the ATA Center, including detections and errors. Its main use is getting the overall status of all operations in the chronological order in which they occurred.\n\n-   **Microsoft.Tri.Center-Detection.log** – This log contains just the detection details of the ATA Center. Its main use is investigating detection issues.\n\n-   **Microsoft.Tri.Center-Errors.log** – This log contains just the errors that are caught by the ATA Center. Its main use is performing health checks and investigating issues that need to be correlated to specific times.\n\n-   **Microsoft.Tri.Center-ExceptionStatistics.log** – This log groups all similar errors and exceptions, and measures their count.\n    This file starts out empty each time the ATA Center service starts and is updated every minute. Its main use is understanding if there are any new errors or issues with the ATA Center - because the errors are grouped it is easier to quickly understand if there is a new errors or issues.\n\n> [!NOTE]\n> The first three log files have a maximum size of up to 50 MB. When that size is reached, a new log file is opened and the previous one is renamed to \"&lt;original file name&gt;-Archived-00000\" where the number increments each time it is renamed. By default, if more than 10 files from the same type already exist, the oldest are deleted.\n\n\n## ATA Deployment logs\nThe ATA deployment logs are located in the temp directory for the user who installed the product. In the default installation location, it can be found at: **C:\\Users\\Administrator\\AppData\\Local\\Temp** (or one directory above %temp%).\n\nATA Center deployment logs:\n\n-   **Microsoft Advanced Threat Analytics Center_20150601104213.log** - This log lists the steps in the process of the deployment of the ATA Center. Its main use is tracking the ATA Center deployment process.\n\n-   **Microsoft Advanced Threat Analytics Center_20150601104213_0_MongoDBPackage.log** - This log lists the steps in the process of MongoDB deployment on the ATA Center. Its main use is tracking the MongoDB deployment process.\n\n-   **Microsoft Advanced Threat Analytics Center_20150601104213_1_MsiPackage.log** - This log file lists the steps in the process of the deployment of the ATA Center binaries. Its main use is tracking the deployment of the ATA Center binaries.\n\nATA Gateway and ATA Lightweight Gateway deployment logs:\n\n-   **Microsoft Advanced Threat Analytics Gateway_20151214014801.log** - This log lists the steps in the process of the deployment of the ATA Gateway. Its main use is tracking the ATA Gateway deployment process.\n\n-   **Microsoft Advanced Threat Analytics Gateway_20151214014801_001_MsiPackage.log** - This log file lists the steps in the process of the deployment of the ATA Gateway binaries. Its main use is tracking the deployment of the ATA Gateway binaries.\n\n\n## See Also\n- [ATA prerequisites](/advanced-threat-analytics/plan-design/ata-prerequisites)\n- [ATA capacity planning](/advanced-threat-analytics/plan-design/ata-capacity-planning)\n- [Configure event collection](/advanced-threat-analytics/deploy-use/configure-event-collection)\n- [Configuring Windows event forwarding](/advanced-threat-analytics/deploy-use/configure-event-collection#configuring-windows-event-forwarding)\n- [Check out the ATA forum!](https://social.technet.microsoft.com/Forums/security/home?forum=mata)\n"}